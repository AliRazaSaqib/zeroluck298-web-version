<!-- @format -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="google" content="notranslate" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./styleSheet/style.css" />
    <link rel="stylesheet" href="./styleSheet/authentication.css" />

    <!-- cdn links -->

    <!-- Lato font-family -->
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- fontawsome cdn -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body>
    <section class="hold-all-sections">
      <div class="handle-nav flex-property fixed-top" id="navbar_top">
        <nav class="navbar content">
          <a href="index.html">
            <img src="./assets/icons/logo.svg" class="navbar-logo"
          /></a>

          <div class="navbar-menu">
            <ul class="navbar-menu-list display-flex">
              <li class="navbar-list-catagory">
                <a href="./index.html">Buy</a>
              </li>

              <li class="navbar-list-catagory">
                <a href="./rent.html">Rent</a>
              </li>

              <li class="navbar-list-catagory">
                <select id="more">
                  <div class="more-dropdown">
                    <button onclick="moreItems()" class="dropbtn">
                      More <i class="fa fa-caret-down"></i>
                    </button>
                    <div id="myDropdown" class="more-dropdown-content d-none">
                      <a href="./about.html">About</a>
                      <a href="./contact.html">Contact</a>
                    </div>
                  </div>
              </li>

              <li class="navbar-list-catagory">
                <a href="#">| </a>
              </li>

              <li class="navbar-list-catagory">
                <a href="#">Login</a>
              </li>
            </ul>
          </div>
        </nav>
      </div>

      <div class="user-login">
        <h1 class="login">Register</h1>
      </div>

      <!-- body -->

      <div class="login-main-wraper">
        <!-- login content -->
        <div class="login confirmation">請輸入傳送至XXXXXXXX 的5位數驗証碼</div>

        <div class="input-fields">
          <form onsubmit="onSubmit(event)" class="content-area">
            <fieldset class="number-code">
              <div>
                <input type="number" name="code" class="code-input" required />
                <input type="number" name="code" class="code-input" required />
                <input type="number" name="code" class="code-input" required />
                <input type="number" name="code" class="code-input" required />
                <input type="number" name="code" class="code-input" required />
                <input type="number" name="code" class="code-input" required />
              </div>
              <div class="limit-add">我收不到驗証碼 (50)</div>
            </fieldset>

            <button class="btn-reset">
              <a href="./agent-page2.html"> 完成</a>
            </button>
          </form>
        </div>
      </div>

      <!-- Footer -->
      <div class="footer">
        <div class="footer-container content">
          <div class="footer-body">
            <div class="social-media-button">
              <a href="#">
                <i class="fa fa-facebook"></i>
              </a>
              <a href="#"><i class="fa fa-google"></i></a>
              <a href="#"><i class="fa fa-twitter"></i></a>
            </div>
            <div>
              <ul>
                <li>
                  <a href="./index.html">Buy</a>
                </li>
                <li>
                  <a href="./rent.html">Rent</a>
                </li>
                <li>
                  <a href="./contact.html">Contact us</a>
                </li>
                <li>
                  <a href="./about.html">About</a>
                </li>

                <li>
                  <a href="./termAndCondition.html"
                    >Terms & Conditions Privacy Policy</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
        <p class="copyright">
          Copyright©2022 Lorem ipsum dolor, sit amet consectetur adipisicing
          elit
        </p>
      </div>
    </section>
  </body>
  <script>
    // fix navbar at top

    document.addEventListener("DOMContentLoaded", function () {
      window.addEventListener("scroll", function () {
        if (window.scrollY > 10) {
          document.getElementById("navbar_top").classList.add("fixed-top");
        } else {
          document.getElementById("navbar_top").classList.remove("fixed-top");
        }
      });
    });

    const inputElements = [...document.querySelectorAll("input.code-input")];
    const moreDropdown = document.getElementById("myDropdown");

    inputElements.forEach((ele, index) => {
      ele.addEventListener("keydown", (e) => {
        if (e.keyCode === 8 && e.target.value === "")
          inputElements[Math.max(0, index - 1)].focus();
      });
      ele.addEventListener("input", (e) => {
        const [first, ...rest] = e.target.value;
        e.target.value = first ?? "";
        const lastInputBox = index === inputElements.length - 1;
        const insertedContent = first !== undefined;
        if (insertedContent && !lastInputBox) {
          inputElements[index + 1].focus();
          inputElements[index + 1].value = rest.join("");
          inputElements[index + 1].dispatchEvent(new Event("input"));
        }
      });
    });

    function onSubmit(e) {
      e.preventDefault();
      const code = [...document.getElementsByTagName("input")]
        .filter(({ name }) => name)
        .map(({ value }) => value)
        .join("");
      console.log(code);
    }

    function moreItems() {
        moreDropdown.classList.toggle("d-none");
      }
  </script>
</html>
